<?xml version="1.0" encoding="UTF-8"?>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <title>#{bundle.title_listaCarros}</title>
    </h:head>
    <body>
        <h:form id="form">
            <h:panelGrid columns="4">
                <h:outputLabel value="#{bundle.carro_modelo}"/>
                <p:inputText value="#{carroFaces.filtro.modelo}"/>
                <h:outputLabel value="#{bundle.carro_ano}"/>
                <p:inputText value="#{carroFaces.filtro.ano}"/>
                <h:outputLabel value="#{bundle.carro_chassi}"/>
                <p:inputText value="#{carroFaces.filtro.chassi}"/>
            </h:panelGrid>
            <h:panelGroup>
                <p:commandButton action="#{carroFaces.pesquisar}" value="#{bundle.botao_pesquisar}" update="tabela"/>
                <p:commandButton action="#{carroFaces.limpar}" value="#{bundle.botao_limpar}" update="@form"/>
            </h:panelGroup>

            <p:dataTable id="tabela" var="carro" value="#{carroFaces.listaCarro}">
                <p:column sortBy="#{carro.modelo}">
                    <f:facet name="header">
                        #{bundle.carro_modelo}
                    </f:facet>
                    <h:outputText value="#{carro.modelo}" />
                </p:column>
                <p:column sortBy="#{carro.ano}">
                    <f:facet name="header">
                        #{bundle.carro_ano}
                    </f:facet>
                    <h:outputText value="#{carro.ano}" />
                </p:column>
                <p:column sortBy="#{carro.chassi}">
                    <f:facet name="header">
                        #{bundle.carro_chassi}
                    </f:facet>
                    <h:outputText value="#{carro.chassi}" />
                </p:column>
                <p:column sortBy="#{carro.dono}">
                    <f:facet name="header">
                        #{bundle.carro_dono}
                    </f:facet>
                    <h:outputText value="#{carro.dono.nome}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        #{bundle.acoes}
                    </f:facet>
                    <h:commandLink value="#{bundle.botao_excluir}" actionListener="#{carroFaces.excluir(carro)}">
                        <f:ajax render=":form" execute="@all"/>
                    </h:commandLink>
                </p:column>
            </p:dataTable>
            <h:panelGroup>
                <p:commandButton action="cadastrarCarro.xhtml" value="#{bundle.botao_novo}" ajax="false"/>
            </h:panelGroup>
        </h:form>
    </body>
</html>